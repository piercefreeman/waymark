{# Reusable UI component macros #}

{#
  Relative datetime component
  Usage: {{ macros::datetime(timestamp=created_at) }}
  Renders an interactive datetime that cycles through relative/local/UTC on click
#}
{% macro datetime(timestamp) %}
<span class="datetime" data-timestamp="{{ timestamp }}"></span>
{% endmacro datetime %}

{#
  Status badge component
  Usage: {{ macros::status_badge(status=run.status) }}
  Renders a color-coded status badge
#}
{% macro status_badge(status) %}
{% if status == "failed" %}
<span class="rounded-full bg-red-100 dark:bg-red-900/50 px-2 py-1 text-xs font-semibold text-red-700 dark:text-red-400">{{ status }}</span>
{% elif status == "completed" %}
<span class="rounded-full bg-emerald-100 dark:bg-emerald-900/50 px-2 py-1 text-xs font-semibold text-emerald-700 dark:text-emerald-400">{{ status }}</span>
{% elif status == "running" or status == "dispatched" %}
<span class="rounded-full bg-amber-100 dark:bg-amber-900/50 px-2 py-1 text-xs font-semibold text-amber-700 dark:text-amber-400">{{ status }}</span>
{% else %}
<span class="rounded-full bg-zinc-200 dark:bg-zinc-800 px-2 py-1 text-xs font-semibold text-zinc-700 dark:text-zinc-300">{{ status }}</span>
{% endif %}
{% endmacro status_badge %}
