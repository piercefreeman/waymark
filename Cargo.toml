[workspace]
resolver = "3"
members = ["crates/lib/*", "crates/bin/*", "crates/waymark"]

[workspace.dependencies]
waymark = { path = "crates/waymark" }
waymark-backend-fault-injection = { path = "crates/lib/backend-fault-injection" }
waymark-backend-memory = { path = "crates/lib/backend-memory" }
waymark-backend-postgres = { path = "crates/lib/backend-postgres" }
waymark-backend-postgres-migrations = { path = "crates/lib/backend-postgres-migrations" }
waymark-backends-core = { path = "crates/lib/backends-core" }
waymark-core-backend = { path = "crates/lib/core-backend" }
waymark-dag = { path = "crates/lib/dag" }
waymark-garbage-collector-backend = { path = "crates/lib/garbage-collector-backend" }
waymark-integration-support = { path = "crates/lib/integration-support" }
waymark-ir-parser = { path = "crates/lib/ir-parser" }
waymark-observability = { path = "crates/lib/observability" }
waymark-observability-macros = { path = "crates/lib/observability-macros" }
waymark-proto = { path = "crates/lib/proto" }
waymark-runner = { path = "crates/lib/runner" }
waymark-runner-state = { path = "crates/lib/runner-state" }
waymark-scheduler-backend = { path = "crates/lib/scheduler-backend" }
waymark-scheduler-core = { path = "crates/lib/scheduler-core" }
waymark-test-support = { path = "crates/lib/test-support" }
waymark-webapp-backend = { path = "crates/lib/webapp-backend" }
waymark-webapp-core = { path = "crates/lib/webapp-core" }
waymark-worker-status-backend = { path = "crates/lib/worker-status-backend" }
waymark-workflow-registry-backend = { path = "crates/lib/workflow-registry-backend" }

anyhow = "1"
async-trait = "0.1"
chrono = { version = "0.4", default-features = false }
clap = "4.5"
cron = "0.12"
proptest = "1.9"
prost = "0.12"
prost-types = "0.12"
rand = "0.8"
regex = "1"
rmp-serde = "1"
rustc-hash = "2"
serde = "1"
serde_json = "1"
serial_test = "2"
sha2 = "0.10"
sqlx = { version = "0.8", default-features = false }
thiserror = "2"
tokio = "1"
tonic = "0.11"
tonic-build = "0.11"
tracing = "0.1"
uuid = "1"
